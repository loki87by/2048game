{"version":3,"sources":["contexts/translationContext.js","utils/helpers.js","utils/consts.js","images/UK.png","images/RU.png","components/Header/Header.js","components/Cell/Cell.js","components/GameField/GameField.js","components/Main/Main.js","components/Footer/Footer.js","components/Popup/Popup.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["TranslationContext","React","createContext","translations","en","rulesTitle","rules","mobileRules","gameOver","prestart","prestartMobile","win","thanxNo","continue","restart","loose","dayEnd","thanx","score","background","ru","toVertical","array","firstLine","secondLine","thirdLine","fourthLine","number","toHorizontal","fromVertical","fromHorizontal","oldArrayString","slice","map","i","join","GAME","area","back","size","color","MAX_NUMBER","Header","props","translation","useContext","langChanger","lang","setLang","useEffect","body","document","querySelector","vmin","Math","min","clientHeight","clientWidth","isMobile","setAttribute","className","type","onClick","src","eng","alt","rus","gameStarted","e","clientX","toggleRules","Cell","style","gridArea","cell","backgroundColor","fontSize","GameField","newNumbers","useState","maxNumber","setMaxNumber","touchStart","setTouchStart","touchPosition","setTouchPosition","isStopScrolling","setStopScrolling","numbers","startGame","setEndGame","setGameStarted","setNewNumber","setRulesOpen","window","removeEventListener","setNumber","indexes","forEach","item","index","push","random","randomCell","ceil","length","randomNumber","getNumbers","setNumbers","addEventListener","sum","finishArr","summ","a","b","isNaN","newScore","setScore","maxSeacher","allNums","filter","allNumbers","max","toStart","line","newArr","undefined","toEnd","reverse","toTop","startString","endNumbers","setPopupOpened","setPopupType","toLeft","toBottom","toRight","pressedKey","handleKeydown","preventDefault","key","handleKeyup","pop","cheatField","cheat","looserCheat","TouchStart","x","changedTouches","y","clientY","TouchMove","TouchEnd","d","abs","CheckAction","passive","THIRD_COLOR_LEVEL","Main","button","startAnimation","split","n","innerHTML","overAnimation","restarter","Footer","colorValue","setColorValue","defaultValue","onInput","target","value","Popup","title","next","picColor","popupType","isOpen","id","name","borderColor","borderTopColor","onClose","App","rulesOpen","endGame","popupOpened","Mobile","test","navigator","userAgent","mobileRef","useRef","arr","rand","floor","newgame","handlePopupClose","handleEscClose","handleClickClose","classList","contains","setInterval","current","height","innerHeight","documentElement","getElementById","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.293716bb.chunk.js","sourcesContent":["import React from \"react\";\nexport const TranslationContext = React.createContext();\nexport const translations = {\n  en: {\n    rulesTitle: \"Rules\",\n    rules:\n      \"After each move, a cell of denomination “2” (with a probability of 85%) or “4” (with a probability of 15%) appears. By pressing the arrow, you can throw all the cells of the playing field to one of 4 sides. If, when dropped, two cells of the same denomination bump into one another, then they turn into one, the denomination of which is equal to the sum of the connected cells. If in one line or in one column there are more than two cells of the same denomination, then when dropped, they begin to connect from the side to which they were directed. If the location of the cells or their denomination does not change when the button is pressed, the move is not made. To win, you need to collect the number 2048 in one cell (more is possible). The game ends in defeat if after the next move it is impossible to perform an action.\",\n    mobileRules:\n      \"After each move, a cell of denomination “2” (with a probability of 85%) or “4” (with a probability of 15%) appears. By swipe, you can throw all the cells of the playing field to one of 4 sides. If, when dropped, two cells of the same denomination bump into one another, then they turn into one, the denomination of which is equal to the sum of the connected cells. If in one line or in one column there are more than two cells of the same denomination, then when dropped, they begin to connect from the side to which they were directed. If the location of the cells or their denomination does not change after swipe, the move is not made. To win, you need to collect the number 2048 in one cell (more is possible). The game ends in defeat if after the next move it is impossible to perform an action.\",\n    gameOver: \"Game over, thanks for taking part.\",\n    prestart: \"Press any key (on keyboard) to start.\",\n    prestartMobile: \"Tap on the playing field to start\",\n    win: \"Congratulations on the victory!\",\n    thanxNo: \"Thanks a lot\",\n    continue: \"Continue game\",\n    restart: \"Try again\",\n    loose: \"I'm sorry, but you lost.\",\n    dayEnd: \"The working day is almost over, maybe it's time to get home?\",\n    thanx: \"Yes, thanks, stayed too long\",\n    score: \"Score: \",\n\n    background: \"Change background:\"\n  },\n  ru: {\n    rulesTitle: \"Правила\",\n    rules:\n      \"После каждого хода появляется ячейка номинала «2» (с вероятностью 85%) или «4» (с вероятностью 15%). Нажатием стрелки можно скинуть все ячейки игрового поля в одну из 4 сторон. Если при сбрасывании две ячейки одного номинала «налетают» одна на другую, то они превращаются в одну, номинал которой равен сумме соединившихся ячеек. Если в одной строчке или в одном столбце находится более двух ячеек одного номинала, то при сбрасывании они начинают соединяться с той стороны, в которую были направлены. Если при нажатии кнопки местоположение ячеек или их номинал не изменится, то ход не совершается. Для победы нужно собрать в одной ячейке число 2048(можно и больше). Игра заканчивается поражением, если после очередного хода невозможно совершить действие.\",\n    mobileRules:\n      \"После каждого хода появляется ячейка номинала «2» (с вероятностью 85%) или «4» (с вероятностью 15%). Свайпом можно скинуть все ячейки игрового поля в одну из 4 сторон. Если при сбрасывании две ячейки одного номинала «налетают» одна на другую, то они превращаются в одну, номинал которой равен сумме соединившихся ячеек. Если в одной строчке или в одном столбце находится более двух ячеек одного номинала, то при сбрасывании они начинают соединяться с той стороны, в которую были направлены. Если при свайпе местоположение ячеек или их номинал не изменится, то ход не совершается. Для победы нужно собрать в одной ячейке число 2048(можно и больше). Игра заканчивается поражением, если после очередного хода невозможно совершить действие.\",\n    gameOver: \"Игра окончена, спасибо за участие.\",\n    prestart: \"Нажмите любую клавишу (на клавиатуре) чтобы начать.\",\n    prestartMobile: \"Тапните по игровому полю чтобы начать\",\n    win: \"Поздравляю с победой!\",\n    thanxNo: \"Спасибо, наигрался\",\n    continue: \"Продолжить игру\",\n    restart: \"Попробовать еще раз\",\n    loose: \"Сожалею, но вы проиграли.\",\n    score: \"Счет: \",\n    background: \"Сменить фон:\"\n  },\n};\n","export const newgame = (arr) => {\n  let random = Math.random();\n  let rand = Math.floor(random * 16);\n  for (let i = 0; i < arr.length; i++) {\n    arr[i].number = \"\";\n    arr[i].back = \"white\";\n    arr[i].size = \"10vmin\";\n    arr[i].color = \"black\";\n  }\n  arr[rand].number = 2;\n};\n\nexport const getNewNumber = () => {\n  let random = Math.random();\n  if (random > 0.85) {\n    return 4;\n  } else {\n    return 2;\n  }\n};\n\nexport function styler(array) {\n  array.forEach((item) => {\n    if (item.number < 65) {\n      item.back = `rgb(${255 - item.number * 4}, 255, 255)`;\n    } else if (item.number > 65 && item.number < 1024) {\n      item.back = `rgb(0, ${255 - item.number / 4}, 255)`;\n    } else if (item.number > 1023) {\n      item.back = `rgb(0, 0, ${255 - item.number / 64})`;\n    } else {\n      item.back = \"white\";\n    }\n    if (item.number > 9999) {\n      item.size = \"5vmin\";\n    } else if (item.number > 999) {\n      item.size = \"7vmin\";\n    } else {\n      item.size = \"10vmin\";\n    }\n    if (item.number > 2000) {\n      item.color = \"white\";\n    } else {\n      item.color = \"black\";\n    }\n  });\n}\n\nexport function allNumbers(array) {\n  let allCells = array.map((item) => {\n    return item.number;\n  });\n  let allNumbs = allCells.filter((item) => {\n    return typeof item === \"number\";\n  });\n  return allNumbs;\n}\n\nexport function toVertical(\n  array,\n  firstLine,\n  secondLine,\n  thirdLine,\n  fourthLine\n) {\n  firstLine[0] = array[0].number;\n  firstLine[1] = array[4].number;\n  firstLine[2] = array[8].number;\n  firstLine[3] = array[12].number;\n  secondLine[0] = array[1].number;\n  secondLine[1] = array[5].number;\n  secondLine[2] = array[9].number;\n  secondLine[3] = array[13].number;\n  thirdLine[0] = array[2].number;\n  thirdLine[1] = array[6].number;\n  thirdLine[2] = array[10].number;\n  thirdLine[3] = array[14].number;\n  fourthLine[0] = array[3].number;\n  fourthLine[1] = array[7].number;\n  fourthLine[2] = array[11].number;\n  fourthLine[3] = array[15].number;\n}\n\nexport function toHorizontal(\n  array,\n  firstLine,\n  secondLine,\n  thirdLine,\n  fourthLine\n) {\n  firstLine[0] = array[0].number;\n  firstLine[1] = array[1].number;\n  firstLine[2] = array[2].number;\n  firstLine[3] = array[3].number;\n  secondLine[0] = array[4].number;\n  secondLine[1] = array[5].number;\n  secondLine[2] = array[6].number;\n  secondLine[3] = array[7].number;\n  thirdLine[0] = array[8].number;\n  thirdLine[1] = array[9].number;\n  thirdLine[2] = array[10].number;\n  thirdLine[3] = array[11].number;\n  fourthLine[0] = array[12].number;\n  fourthLine[1] = array[13].number;\n  fourthLine[2] = array[14].number;\n  fourthLine[3] = array[15].number;\n}\n\nexport function fromVertical(\n  array,\n  firstLine,\n  secondLine,\n  thirdLine,\n  fourthLine\n) {\n  array[0].number = firstLine[0];\n  array[4].number = firstLine[1];\n  array[8].number = firstLine[2];\n  array[12].number = firstLine[3];\n  array[1].number = secondLine[0];\n  array[5].number = secondLine[1];\n  array[9].number = secondLine[2];\n  array[13].number = secondLine[3];\n  array[2].number = thirdLine[0];\n  array[6].number = thirdLine[1];\n  array[10].number = thirdLine[2];\n  array[14].number = thirdLine[3];\n  array[3].number = fourthLine[0];\n  array[7].number = fourthLine[1];\n  array[11].number = fourthLine[2];\n  array[15].number = fourthLine[3];\n}\nexport function fromHorizontal(\n  array,\n  firstLine,\n  secondLine,\n  thirdLine,\n  fourthLine\n) {\n  array[0].number = firstLine[0];\n  array[1].number = firstLine[1];\n  array[2].number = firstLine[2];\n  array[3].number = firstLine[3];\n  array[4].number = secondLine[0];\n  array[5].number = secondLine[1];\n  array[6].number = secondLine[2];\n  array[7].number = secondLine[3];\n  array[8].number = thirdLine[0];\n  array[9].number = thirdLine[1];\n  array[10].number = thirdLine[2];\n  array[11].number = thirdLine[3];\n  array[12].number = fourthLine[0];\n  array[13].number = fourthLine[1];\n  array[14].number = fourthLine[2];\n  array[15].number = fourthLine[3];\n}\n\nexport function oldArrayString(array) {\n  let startNumbers = array.slice().map((i) => {\n    return i.number;\n  });\n  return startNumbers.join();\n}\n","\nexport const GAME = [\n  { number: \"\", area: \"top1\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"top2\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"top3\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"top4\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"second1\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"second2\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"second3\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"second4\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"third1\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"third2\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"third3\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"third4\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"bottom1\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"bottom2\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"bottom3\", back: \"white\", size: \"10vmin\", color: \"black\" },\n  { number: \"\", area: \"bottom4\", back: \"white\", size: \"10vmin\", color: \"black\" },\n];\n\nexport const LUFT_KOEFFICIENT = 0.2;\n\nexport const MAX_NUMBER = 2048;\n\nexport const HALF_NUMBER = 1024;\n\nexport const FIRST_COLOR_LEVEL = 16;\n\nexport const SECOND_COLOR_LEVEL = 64;\n\nexport const THIRD_COLOR_LEVEL = 128;\n","export default __webpack_public_path__ + \"static/media/UK.24a08dc3.png\";","export default __webpack_public_path__ + \"static/media/RU.9a6254bc.png\";","// **импорты\nimport React from \"react\";\nimport { TranslationContext } from \"../../contexts/translationContext\";\nimport eng from \"../../images/UK.png\";\nimport rus from \"../../images/RU.png\";\nimport \"./Header.css\";\nimport \"./styles/__button/Header__button.css\";\nimport \"./styles/__button-image/Header__button-image.css\";\nimport \"./styles/__score/Header__score.css\";\nimport \"./styles/__button/_rules/Header__button_rules.css\";\n\n// **функционал\nfunction Header(props) {\n  const translation = React.useContext(TranslationContext);\n  // *языковой переключатель\n  function langChanger() {\n    if (props.lang === \"ru\") {\n      props.setLang(\"en\");\n    } else {\n      props.setLang(\"ru\");\n    }\n  }\n\n  function openRules(e) {\n    if(e.clientX === 0) {\n      return\n    }\n    props.toggleRules()\n  }\n\n  React.useEffect(() => {\n    const body = document.querySelector('body')\n    const vmin = Math.min(body.clientHeight, body.clientWidth) / 100\n    if(props.isMobile && props.score > 0 && props.score / 100 < 10 * vmin){\n    const headerScore = document.querySelector('.Header__score')\n    headerScore.setAttribute('style', `margin-top: ${props.score / 100}px; margin-bottom: -${props.score / 100}px;`)\n    }\n  })\n\n  // *DOM\n  return (\n    <header className=\"Header\">\n      {props.lang === \"ru\" ? (\n        <button className=\"Header__button\" type=\"button\" onClick={langChanger}>\n          <img className=\"Header__button-image\" src={eng} alt=\"флаг СК\" />\n        </button>\n      ) : (\n        <button className=\"Header__button\" type=\"button\" onClick={langChanger}>\n          <img className=\"Header__button-image\" src={rus} alt=\"флаг РФ\" />\n        </button>\n      )}\n      {props.gameStarted ? (\n        <h3 className=\"Header__score\">\n          {translation.score}\n          {props.score}\n        </h3>\n      ) : (\n        \"\"\n      )}\n      <button\n        className=\"Header__button Header__button_rules\"\n        onClick={openRules}\n      >\n        {translation.rulesTitle}\n      </button>\n    </header>\n  );\n}\n// **импорт\nexport default Header;\n","// **импорты\r\nimport React from \"react\";\r\nimport \"./Cell.css\";\r\n\r\n// **функционал\r\nfunction Cell(props) {\r\n  return (\r\n    <div\r\n      className=\"Cell\"\r\n      style={{\r\n        gridArea: props.cell.area,\r\n        backgroundColor: props.cell.back,\r\n        fontSize: props.cell.size,\r\n        color: props.cell.color,\r\n      }}\r\n    >\r\n      {props.cell.number}\r\n    </div>\r\n  );\r\n}\r\n\r\n// **экспорт\r\nexport default Cell;\r\n","// ***импорты\nimport React from \"react\";\nimport Cell from \"../Cell/Cell\";\nimport {\n  oldArrayString,\n  getNewNumber,\n  styler,\n  allNumbers,\n  toVertical,\n  toHorizontal,\n  fromVertical,\n  fromHorizontal,\n} from \"../../utils/helpers\";\nimport {\n  MAX_NUMBER,\n  FIRST_COLOR_LEVEL,\n  HALF_NUMBER,\n  SECOND_COLOR_LEVEL,\n  THIRD_COLOR_LEVEL,\n} from \"../../utils/consts\";\nimport \"./GameField.css\";\n\n// ***функционал\nfunction GameField(props) {\n  // **стейты\n  const [maxNumber, setMaxNumber] = React.useState(16);\n  const [touchStart, setTouchStart] = React.useState({});\n  const [touchPosition, setTouchPosition] = React.useState({});\n  const [isStopScrolling, setStopScrolling] = React.useState(false);\n  let numbers = props.numbers;\n\n  // **функции\n  // *начало игры\n  let startGame = () => {\n    props.setEndGame(false);\n    props.setGameStarted(true);\n    setNewNumber();\n      props.setRulesOpen(false);\n    window.removeEventListener(\"keydown\", startGame);\n    window.removeEventListener(\"touchstart\", startGame);\n  };\n  React.useEffect(() => {\n    if (props.isMobile) {\n      window.addEventListener(\"touchstart\", startGame);\n      return () => {\n        window.removeEventListener(\"touchstart\", startGame);\n      };\n    } else {\n      window.addEventListener(\"keydown\", startGame);\n      return () => {\n        window.removeEventListener(\"keydown\", startGame);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // *новая цифра в пустой ячейке\n  function setNumber(array) {\n    let newNumbers;\n    let quantity = 0;\n    let indexes = [];\n    array.forEach(function (item, index) {\n      if (item.number === \"\") {\n        quantity = quantity + 1;\n        indexes.push(index);\n      }\n    });\n    let random = Math.random();\n    let randomCell = Math.ceil(indexes.length * random);\n    let index = indexes[randomCell - 1];\n    newNumbers = array.slice(0);\n    const randomNumber = getNewNumber();\n    newNumbers[index].number = randomNumber;\n    return newNumbers;\n  }\n  let newNumbers;\n  function setNewNumber() {\n    let getNumbers = setNumber(numbers);\n    newNumbers = getNumbers;\n    props.setNumbers(newNumbers);\n  }\n  let firstLine = [];\n  let secondLine = [];\n  let thirdLine = [];\n  let fourthLine = [];\n  styler(numbers);\n  let sum;\n\n  // *сложение соседних дублей\n  function summ(a, b) {\n    if (a === b) {\n      sum = a + b;\n      if (!isNaN(sum)) {\n        let newScore = props.score + sum;\n        props.setScore(newScore);\n      }\n      return sum;\n    } else {\n      return;\n    }\n  }\n\n  // *нахождение максимального числа(для стилей)\n  function maxSeacher() {\n    let allNums = allNumbers(numbers);\n    if (Math.max(...allNums) > FIRST_COLOR_LEVEL) {\n      return setMaxNumber(Math.max(...allNums));\n    }\n  }\n  let finishArr;\n\n  // **функции смещения ячеек\n  // *смещение в начало строки\n  function toStart(line) {\n    let newArr = line.filter((item) => {\n      if (typeof item === \"number\") {\n        return item;\n      }\n      return item;\n    });\n    if (newArr.length > 1) {\n      sum = undefined;\n      summ(newArr[0], newArr[1]);\n      if (sum) {\n        newArr[0] = sum;\n        newArr[1] = \"\";\n      }\n    }\n    if (newArr.length > 2) {\n      sum = undefined;\n      summ(newArr[1], newArr[2]);\n      if (sum) {\n        newArr[1] = sum;\n        newArr[2] = \"\";\n      }\n    }\n    if (newArr.length === 4) {\n      sum = undefined;\n      summ(newArr[2], newArr[3]);\n      if (sum) {\n        newArr[2] = sum;\n        newArr[3] = \"\";\n      }\n    }\n    finishArr = newArr.filter((item) => {\n      if (typeof item === \"number\") {\n        return item;\n      }\n      return item;\n    });\n    if (finishArr.length === 0) {\n      finishArr = [\"\", \"\", \"\", \"\"];\n    }\n    if (finishArr.length === 1) {\n      finishArr.push(\"\");\n      finishArr.push(\"\");\n      finishArr.push(\"\");\n    }\n    if (finishArr.length === 2) {\n      finishArr.push(\"\");\n      finishArr.push(\"\");\n    }\n    if (finishArr.length === 3) {\n      finishArr.push(\"\");\n    }\n    return finishArr;\n  }\n  // *смещение в конец строки\n  function toEnd(line) {\n    let antiLine = line.reverse();\n    let finishArr = toStart(antiLine);\n    return finishArr.reverse();\n  }\n  // *вверх\n  function toTop() {\n    let startString = oldArrayString(numbers);\n    toVertical(numbers, firstLine, secondLine, thirdLine, fourthLine);\n    toStart(firstLine);\n    firstLine = finishArr;\n    toStart(secondLine);\n    secondLine = finishArr;\n    toStart(thirdLine);\n    thirdLine = finishArr;\n    toStart(fourthLine);\n    fourthLine = finishArr;\n    fromVertical(numbers, firstLine, secondLine, thirdLine, fourthLine);\n    let endNumbers = numbers.slice().map((i) => {\n      return i.number;\n    });\n    let endString = endNumbers.join();\n    if (startString !== endString) {\n      setNewNumber();\n    } else {\n      let emptyCells = endNumbers.filter((item) => {\n        return item === \"\";\n      });\n      if (emptyCells.length === 0) {\n        props.setPopupOpened(true);\n        props.setPopupType(\"loose\");\n      }\n    }\n    maxSeacher();\n  }\n  // *влево\n  function toLeft() {\n    let startString = oldArrayString(numbers);\n    toHorizontal(numbers, firstLine, secondLine, thirdLine, fourthLine);\n    toStart(firstLine);\n    firstLine = finishArr;\n    toStart(secondLine);\n    secondLine = finishArr;\n    toStart(thirdLine);\n    thirdLine = finishArr;\n    toStart(fourthLine);\n    fourthLine = finishArr;\n    fromHorizontal(numbers, firstLine, secondLine, thirdLine, fourthLine);\n    let endNumbers = numbers.slice().map((i) => {\n      return i.number;\n    });\n    let endString = endNumbers.join();\n    if (startString !== endString) {\n      setNewNumber();\n    } else {\n      let emptyCells = endNumbers.filter((item) => {\n        return item === \"\";\n      });\n      if (emptyCells.length === 0) {\n        props.setPopupOpened(true);\n        props.setPopupType(\"loose\");\n      }\n    }\n    maxSeacher();\n  }\n  // *вниз\n  function toBottom() {\n    let startString = oldArrayString(numbers);\n    toVertical(numbers, firstLine, secondLine, thirdLine, fourthLine);\n    toEnd(firstLine);\n    firstLine = finishArr;\n    toEnd(secondLine);\n    secondLine = finishArr;\n    toEnd(thirdLine);\n    thirdLine = finishArr;\n    toEnd(fourthLine);\n    fourthLine = finishArr;\n    fromVertical(numbers, firstLine, secondLine, thirdLine, fourthLine);\n    let endNumbers = numbers.slice().map((i) => {\n      return i.number;\n    });\n    let endString = endNumbers.join();\n    if (startString !== endString) {\n      setNewNumber();\n    } else {\n      let emptyCells = endNumbers.filter((item) => {\n        return item === \"\";\n      });\n      if (emptyCells.length === 0) {\n        props.setPopupOpened(true);\n        props.setPopupType(\"loose\");\n      }\n    }\n    maxSeacher();\n  }\n  // *вправо\n  function toRight() {\n    let startString = oldArrayString(numbers);\n    toHorizontal(numbers, firstLine, secondLine, thirdLine, fourthLine);\n    toEnd(firstLine);\n    firstLine = finishArr;\n    toEnd(secondLine);\n    secondLine = finishArr;\n    toEnd(thirdLine);\n    thirdLine = finishArr;\n    toEnd(fourthLine);\n    fourthLine = finishArr;\n    fromHorizontal(numbers, firstLine, secondLine, thirdLine, fourthLine);\n    let endNumbers = numbers.slice().map((i) => {\n      return i.number;\n    });\n    let endString = endNumbers.join();\n    if (startString !== endString) {\n      setNewNumber();\n    } else {\n      let emptyCells = endNumbers.filter((item) => {\n        return item === \"\";\n      });\n      if (emptyCells.length === 0) {\n        props.setPopupOpened(true);\n        props.setPopupType(\"loose\");\n      }\n    }\n    maxSeacher();\n  }\n\n  // *определение нажатой клавиши\n  let pressedKey = [];\n  function handleKeydown(e) {\n    e.preventDefault();\n    if (pressedKey.length === 0) {\n      pressedKey.push(e.key);\n    }\n  }\n\n  // **игровое управление\n  // *отклик на нажатие клавишь\n  function handleKeyup(e) {\n      props.setRulesOpen(false);\n    if (pressedKey[0] === \"ArrowUp\") {\n      e.preventDefault();\n      toTop();\n      pressedKey.pop();\n    } else if (pressedKey[0] === \"ArrowDown\") {\n      e.preventDefault();\n      toBottom();\n      pressedKey.pop();\n    } else if (pressedKey[0] === \"ArrowLeft\") {\n      e.preventDefault();\n      toLeft();\n      pressedKey.pop();\n    } else if (pressedKey[0] === \"ArrowRight\") {\n      e.preventDefault();\n      toRight();\n      pressedKey.pop();\n    } else if (pressedKey[0] === \"Tab\") {\n      e.preventDefault();\n      cheat();\n      pressedKey.pop();\n    } else if (pressedKey[0] === \"Backspace\") {\n      e.preventDefault();\n      looserCheat();\n      pressedKey.pop();\n    } else {\n      pressedKey.pop();\n    }\n  }\n  // *тест-чит для победы\n  function cheat() {\n    let cheatField = numbers.map((i) => {\n      i.number = HALF_NUMBER;\n      return i;\n    });\n    props.setNumbers(cheatField);\n  }\n  // *тест-чит для проигрыша\n  function looserCheat() {\n    let cheatField = numbers.map((i, index) => {\n      i.number = index + 1;\n      return i;\n    });\n    props.setNumbers(cheatField);\n  }\n  // **управление с мобильного устройства\n  const sensitivity = 20;\n  // *получаем точку касания\n  function TouchStart(e) {\n      setStopScrolling(true);\n      setTouchStart({\n        x: e.changedTouches[0].clientX,\n        y: e.changedTouches[0].clientY,\n      });\n      setTouchPosition({ x: touchStart.x, y: touchStart.y });\n  }\n  // *Получаем новую позицию\n  function TouchMove(e) {\n    if (isStopScrolling) {\n      e.preventDefault();\n    }\n    setTouchPosition({\n      x: e.changedTouches[0].clientX,\n      y: e.changedTouches[0].clientY,\n    });\n  }\n  // *Действия при свайпе\n  function CheckAction() {\n    let d = {\n      x: touchStart.x - touchPosition.x,\n      y: touchStart.y - touchPosition.y,\n    };\n    if (Math.abs(d.x) > Math.abs(d.y)) {\n      if (Math.abs(d.x) > sensitivity) {\n        if (d.x > 0) {\n          toLeft();\n        } else {\n          toRight();\n        }\n      }\n    } else {\n      if (Math.abs(d.y) > sensitivity) {\n        if (d.y > 0) {\n          toTop();\n        } else {\n          toBottom();\n        }\n      }\n    }\n  }\n  // *Окончание или отмена касания\n  function TouchEnd() {\n    CheckAction();\n    setTouchStart({});\n    setTouchPosition({});\n    setStopScrolling(false);\n  }\n\n  // *расставляем слушатели\n  React.useEffect(() => {\n    if (props.gameStarted) {\n      window.addEventListener(\"keydown\", handleKeydown);\n      return () => {\n        window.removeEventListener(\"keydown\", handleKeydown);\n      };\n    }\n  });\n  React.useEffect(() => {\n    if (props.gameStarted) {\n      window.addEventListener(\"keyup\", handleKeyup);\n      return () => {\n        window.removeEventListener(\"keyup\", handleKeyup);\n      };\n    }\n  });\n  React.useEffect(() => {\n    if (props.gameStarted && props.isMobile) {\n      window.addEventListener(\"touchstart\", TouchStart);\n      window.addEventListener(\"touchmove\", TouchMove, { passive: false });\n      window.addEventListener(\"touchend\", TouchEnd);\n      window.addEventListener(\"touchcancel\", TouchEnd);\n      return () => {\n        window.removeEventListener(\"touchstart\", TouchStart);\n        window.removeEventListener(\"touchmove\", TouchMove);\n        window.removeEventListener(\"touchend\", TouchEnd);\n        window.removeEventListener(\"touchcancel\", TouchEnd);\n      };\n    }\n  });\n\n  // *вызов попапа победы\n  React.useEffect(() => {\n    if (maxNumber === MAX_NUMBER) {\n      let popup = document.querySelector(\".GamePopup_opened\");\n      if (!popup) {\n        props.setPopupOpened(true);\n        props.setPopupType(\"win\");\n        setMaxNumber(MAX_NUMBER + 1);\n      }\n    }\n  }, [maxNumber, props]);\n\n  // **DOM\n  return maxNumber < MAX_NUMBER + 1 ? (\n    <div\n      className=\"GameField\"\n      style={{\n        backgroundColor: `rgb(${\n          THIRD_COLOR_LEVEL - 1 + maxNumber / FIRST_COLOR_LEVEL\n        }, ${THIRD_COLOR_LEVEL - 1 + maxNumber / FIRST_COLOR_LEVEL}, ${\n          THIRD_COLOR_LEVEL - maxNumber / FIRST_COLOR_LEVEL\n        })`,\n      }}\n    >\n      {numbers.map((cell, i) => (\n        <Cell key={i} cell={cell} />\n      ))}\n    </div>\n  ) : (\n    <div\n      className=\"GameField\"\n      style={{\n        backgroundColor: `rgb(${255 - maxNumber / SECOND_COLOR_LEVEL}, 255, 0)`,\n      }}\n    >\n      {numbers.map((cell, i) => (\n        <Cell key={i} cell={cell} />\n      ))}\n    </div>\n  );\n}\n\n// ***импорт\nexport default GameField;\n","// ***импорты\nimport React from \"react\";\nimport { GAME } from \"../../utils/consts\";\nimport { TranslationContext } from \"../../contexts/translationContext\";\nimport GameField from \"../GameField/GameField\";\nimport \"./Main.css\";\n\n// ***функционал\nfunction Main(props) {\n  // **стейты\n  const [numbers, setNumbers] = React.useState(GAME);\n  const translation = React.useContext(TranslationContext);\n\n  React.useEffect(() => {\n    const button = document.querySelector(\".App__restart-button\");\n\n    if (button) {\n      function startAnimation() {\n        let arr = translation.restart.split(\"\");\n        let newArr = arr.map((i, n) => {\n          if (i === \" \") {\n            return `<p class=\"App__restart-button_symbol\" style=\"animation: none\">&nbsp</p>`;\n          } else {\n            return `<p class=\"App__restart-button_symbol\" style=\"animation-delay: ${\n              n / 2\n            }s\">${i}</p>`;\n          }\n        });\n        button.innerHTML = newArr.join(\"\");\n      }\n      startAnimation();\n      function overAnimation() {\n        button.innerHTML = translation.restart;\n      }\n      button.addEventListener(\"mouseover\", overAnimation);\n      button.addEventListener(\"mouseout\", startAnimation);\n      button.addEventListener(\"onclick\", props.restarter);\n      return () => {\n        button.removeEventListener(\"mouseover\", overAnimation);\n        button.removeEventListener(\"onclick\", props.restarter);\n      };\n    }\n  });\n\n  // **DOM\n  return (\n    <section className=\"Main\">\n      <GameField\n        numbers={numbers}\n        setNumbers={setNumbers}\n        isMobile={props.isMobile}\n        gameStarted={props.gameStarted}\n        setGameStarted={props.setGameStarted}\n        setEndGame={props.setEndGame}\n        score={props.score}\n        setScore={props.setScore}\n        setPopupOpened={props.setPopupOpened}\n        setPopupType={props.setPopupType}\n        setRulesOpen={props.setRulesOpen}\n      />\n    </section>\n  );\n}\n\n// ***экспорт\nexport default Main;\n","// **импорты\nimport React from \"react\";\nimport { TranslationContext } from \"../../contexts/translationContext\";\nimport \"./Footer.css\";\nimport \"./styles/__text/Footer__text.css\";\nimport \"./styles/__input/Footer__input.css\";\n\n// **функционал\nfunction Footer() {\n  const [colorValue, setColorValue] = React.useState(\"#000000\");\n  const translation = React.useContext(TranslationContext);\n\n  function changeColorValue(e) {\n    setColorValue(e.target.value);\n  }\n\n  React.useEffect(() => {\n    const html = document.querySelector(\"html\");\n    html.style = `--bg-color: ${colorValue}`;\n  }, [colorValue]);\n  // *DOM\n  return (\n    <footer className=\"Footer\">\n      <p className=\"Footer__text\">{translation.background} </p>\n      <input\n        type=\"color\"\n        className=\"Footer__input\"\n        defaultValue={colorValue}\n        onInput={changeColorValue}\n      ></input>\n    </footer>\n  );\n}\n// **импорт\nexport default Footer;\n","// ***импорты\nimport React from \"react\";\nimport { TranslationContext } from \"../../contexts/translationContext\";\nimport \"./Popup.css\";\nimport \"./styles/_opened/Popup_opened.css\";\nimport \"./styles/__container/Popup__container.css\";\nimport \"./styles/__text/Popup__text.css\";\nimport \"./styles/__smile/Popup__smile.css\";\nimport \"./styles/__smile-bigcircle/Popup__smile-bigcircle.css\";\nimport \"./styles/__smile-smallcircle/Popup__smile-smallcircle.css\";\nimport \"./styles/__smile-smallcircle/_left/Popup__smile-smallcircle_left.css\";\nimport \"./styles/__smile-smallcircle/_right/Popup__smile-smallcircle_right.css\";\nimport \"./styles/__smile-mimic/Popup__smile-mimic.css\";\nimport \"./styles/__smile-mimic/_type/Popup__smile-mimic_type_win.css\";\nimport \"./styles/__smile-mimic/_type/Popup__smile-mimic_type_loose.css\";\nimport \"./styles/__buttons/Popup__buttons.css\";\nimport \"./styles/__button/Popup__button.css\";\n\n// ***функционал\nfunction Popup(props) {\n  // **константы\n  const translation = React.useContext(TranslationContext);\n  let title;\n  let next;\n  let picColor;\n\n  // **функции\n  // *закрытие попапа\n  function handleClick() {\n    props.onClose();\n    if (props.popupType === \"loose\") {\n      props.setEndGame(true);\n      props.setGameStarted(false);\n    } else {\n      props.restarter();\n    }\n  }\n\n  function handleClickClose() {\n    props.onClose();\n    props.restarter();\n  }\n\n  // *настройка попапа\n  function popupCreator() {\n    if (props.popupType === \"win\") {\n      title = translation.win;\n      next = translation.continue;\n      picColor = \"greenyellow\";\n    } else {\n      title = translation.loose;\n      picColor = \"orangered\";\n    }\n  }\n  popupCreator();\n\n  // **DOM\n  return (\n    <section\n      className={`Popup ${props.isOpen && \"Popup_opened\"}`}\n      id={props.popupType}\n    >\n      <div className=\"Popup__container\" name={props.popupType}>\n        <h1 className=\"Popup__text\">{title}</h1>\n        <figure className=\"Popup__smile\">\n          <div\n            className=\"Popup__smile-bigcircle\"\n            style={{ borderColor: picColor }}\n          ></div>\n          <div\n            className=\"Popup__smile-smallcircle Popup__smile-smallcircle_left\"\n            style={{ borderColor: picColor, backgroundColor: picColor }}\n          ></div>\n          <div\n            className=\"Popup__smile-smallcircle Popup__smile-smallcircle_right\"\n            style={{ borderColor: picColor, backgroundColor: picColor }}\n          ></div>\n          <div\n            style={{ borderTopColor: picColor }}\n            className={`Popup__smile-mimic ${\n              props.popupType === \"win\" && \"Popup__smile-mimic_type_win\"\n            } ${\n              props.popupType === \"loose\" && \"Popup__smile-mimic_type_loose\"\n            } `}\n          ></div>\n        </figure>\n        <div className=\"Popup__buttons\">\n          <button className=\"Popup__button\" type=\"button\" onClick={handleClick}>\n            {props.popupType === \"loose\"\n              ? translation.thanxNo\n              : translation.restart}\n          </button>\n          {props.popupType === \"win\" ? (\n            <button\n              type=\"button\"\n              className=\"Popup__button\"\n              onClick={props.onClose}\n            >\n              {next}\n            </button>\n          ) : (\n            <button\n              className=\"Popup__button\"\n              type=\"button\"\n              onClick={handleClickClose}\n            >\n              {translation.restart}\n            </button>\n          )}\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// ***экспорт\nexport default Popup;\n","// **импорты\nimport React from \"react\";\nimport {\n  TranslationContext,\n  translations,\n} from \"../../contexts/translationContext\";\nimport { newgame } from \"../../utils/helpers\";\nimport { GAME } from \"../../utils/consts\";\nimport Header from \"../Header/Header\";\nimport Main from \"../Main/Main\";\nimport Footer from \"../Footer/Footer\";\nimport Popup from '../Popup/Popup'\nimport \"../../vendor/normalize.css\";\nimport \"./App.css\";\nimport \"./styles/__text-container/App__text-container.css\";\nimport \"./styles/__text-container/_opened/App__text-container_opened.css\";\nimport \"./styles/__rules-text/App__rules-text.css\";\nimport \"./styles/__rules-span/App__rules-span.css\";\nimport \"./styles/__rules-text/_gameStarted/App__rules-text_gameStarted.css\";\nimport \"./styles/__restart-button/App__restart-button.css\";\nimport \"./styles/__restart-button/App__restart-button_symbol.css\";\n\nfunction App() {\n  // **стейты\n  const [lang, setLang] = React.useState(\"ru\");\n  const [rulesOpen, setRulesOpen] = React.useState(false);\n  const [gameStarted, setGameStarted] = React.useState(false);\n  const [score, setScore] = React.useState(0);\n  const [endGame, setEndGame] = React.useState(false);\n  const [popupOpened, setPopupOpened] = React.useState(false);\n  const [popupType, setPopupType] = React.useState(\"\");\n  const Mobile =\n    /Mobile|webOS|BlackBerry|IEMobile|MeeGo|mini|Fennec|Windows Phone|Android|iP(ad|od|hone)/i.test(\n      navigator.userAgent\n    );\n  const mobileRef = React.useRef(Mobile);\n\n  // *перезапуск геймплея\n  function restarter() {\n    const gameField = document.querySelector('.GameField')\n    gameField.setAttribute('style', 'background-color: rgb(128, 128, 127)')\n    setEndGame(true);\n    newgame(GAME);\n    setGameStarted(true);\n    setScore(0);\n  }\n\n  function toggleRules() {\n    const state = !rulesOpen;\n    setRulesOpen(state);\n  }\n\n  function oneMoreStart() {\n    toggleRules()\n    restarter()\n  }\n\n  // **проверка типа устройства пользователя\n  React.useEffect(() => {\n    setInterval(() => {\n      const Mobile =\n        /Mobile|webOS|BlackBerry|IEMobile|MeeGo|mini|Fennec|Windows Phone|Android|iP(ad|od|hone)/i.test(\n          navigator.userAgent\n        );\n      mobileRef.current = Mobile;\n    }, 15000);\n  });\n\n  // **функции закрытия попапа\n  // *закрытие попапа\n  function handlePopupClose() {\n    setPopupOpened(false);\n    setPopupType(\"\");\n  }\n  // *закрытие по esc\n  function handleEscClose(e) {\n    if (e.key === \"Escape\") {\n      handlePopupClose();\n    }\n  }\n  // *закрытие по оверлею\n  function handleClickClose(e) {\n    if (e.target.classList.contains(\"Popup_opened\")) {\n      handlePopupClose();\n    }\n  }\n  // *слушатели закрытий\n  React.useEffect(() => {\n    window.addEventListener(\"keydown\", handleEscClose);\n    window.addEventListener(\"click\", handleClickClose);\n  });\n\n  const height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n  const root = document.getElementById('root')\n  root.setAttribute('style', `height: ${height}px`)\n\n  // **DOM\n  return (\n    <>\n      <TranslationContext.Provider value={translations[lang]}>\n        <Header\n          toggleRules={toggleRules}\n          gameStarted={gameStarted}\n          score={score}\n          setLang={setLang}\n          lang={lang}\n          isMobile={mobileRef.current}\n        />\n        <div\n          className={`App__text-container ${\n            rulesOpen && \"App__text-container_opened\"\n          }`}\n        >\n          <p\n            className={`App__rules-text ${\n              gameStarted && \"App__rules-text_gameStarted\"\n            }`}\n          >\n            {mobileRef.current\n              ? translations[lang].mobileRules\n              : translations[lang].rules}\n          </p>\n          {endGame ? (\n            gameStarted ? (\n              \"\"\n            ) : (\n              <>\n                <span className=\"App__rules-span\">\n                  {translations[lang].gameOver}\n                </span>\n                <button\n                  className=\"App__restart-button\"\n                  type=\"button\"\n                  onClick={oneMoreStart}\n                >\n                  {translations[lang].restart}\n                </button>\n              </>\n            )\n          ) : gameStarted ? (\n            \"\"\n          ) : (\n            <span className=\"App__rules-span\">\n              {mobileRef.current\n                ? translations[lang].prestartMobile\n                : translations[lang].prestart}\n            </span>\n          )}\n        </div>\n        <Main\n          gameStarted={gameStarted}\n          restarter={restarter}\n          endGame={endGame}\n          setEndGame={setEndGame}\n          score={score}\n          setScore={setScore}\n          setGameStarted={setGameStarted}\n          isMobile={mobileRef.current}\n          setRulesOpen={setRulesOpen}\n          setPopupOpened={setPopupOpened}\n          setPopupType={setPopupType}\n        />\n        <Footer />\n        <Popup\n        isOpen={popupOpened}\n        onClose={handlePopupClose}\n        popupType={popupType}\n        setEndGame={setEndGame}\n        setGameStarted={setGameStarted}\n        restarter={restarter} />\n      </TranslationContext.Provider>\n    </>\n  );\n}\n\n// **экспорт\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}