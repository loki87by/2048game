(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(7),c=n.n(a),i=(n(12),n(2)),u=r.a.createContext(),s={en:{rulesTitle:"Rules",rules:"After each move, a cell of denomination \u201c2\u201d (with a probability of 85%) or \u201c4\u201d (with a probability of 15%) appears. By pressing the arrow, you can throw all the cells of the playing field to one of 4 sides. If, when dropped, two cells of the same denomination bump into one another, then they turn into one, the denomination of which is equal to the sum of the connected cells. If in one line or in one column there are more than two cells of the same denomination, then when dropped, they begin to connect from the side to which they were directed. If the location of the cells or their denomination does not change when the button is pressed, the move is not made. To win, you need to collect the number 2048 in one cell (more is possible). The game ends in defeat if after the next move it is impossible to perform an action.",mobileRules:"After each move, a cell of denomination \u201c2\u201d (with a probability of 85%) or \u201c4\u201d (with a probability of 15%) appears. By swipe, you can throw all the cells of the playing field to one of 4 sides. If, when dropped, two cells of the same denomination bump into one another, then they turn into one, the denomination of which is equal to the sum of the connected cells. If in one line or in one column there are more than two cells of the same denomination, then when dropped, they begin to connect from the side to which they were directed. If the location of the cells or their denomination does not change after swipe, the move is not made. To win, you need to collect the number 2048 in one cell (more is possible). The game ends in defeat if after the next move it is impossible to perform an action.",gameOver:"Game over, thanks for taking part.",prestart:"Press any key (on keyboard) to start.",prestartMobile:"Tap on the playing field to start",win:"Congratulations on the victory!",thanxNo:"Thanks a lot",continue:"Continue game",restart:"Try again",loose:"I'm sorry, but you lost.",dayEnd:"The working day is almost over, maybe it's time to get home?",thanx:"Yes, thanks, stayed too long",score:"Score: ",background:"Change background:"},ru:{rulesTitle:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430",rules:"\u041f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0445\u043e\u0434\u0430 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u044f\u0447\u0435\u0439\u043a\u0430 \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0430 \xab2\xbb (\u0441 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c\u044e 85%) \u0438\u043b\u0438 \xab4\xbb (\u0441 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c\u044e 15%). \u041d\u0430\u0436\u0430\u0442\u0438\u0435\u043c \u0441\u0442\u0440\u0435\u043b\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0438\u043d\u0443\u0442\u044c \u0432\u0441\u0435 \u044f\u0447\u0435\u0439\u043a\u0438 \u0438\u0433\u0440\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0432 \u043e\u0434\u043d\u0443 \u0438\u0437 4 \u0441\u0442\u043e\u0440\u043e\u043d. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438 \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u043d\u0438\u0438 \u0434\u0432\u0435 \u044f\u0447\u0435\u0439\u043a\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0430 \xab\u043d\u0430\u043b\u0435\u0442\u0430\u044e\u0442\xbb \u043e\u0434\u043d\u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u0443\u044e, \u0442\u043e \u043e\u043d\u0438 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0432 \u043e\u0434\u043d\u0443, \u043d\u043e\u043c\u0438\u043d\u0430\u043b \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0440\u0430\u0432\u0435\u043d \u0441\u0443\u043c\u043c\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u044f\u0447\u0435\u0435\u043a. \u0415\u0441\u043b\u0438 \u0432 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u0447\u043a\u0435 \u0438\u043b\u0438 \u0432 \u043e\u0434\u043d\u043e\u043c \u0441\u0442\u043e\u043b\u0431\u0446\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0431\u043e\u043b\u0435\u0435 \u0434\u0432\u0443\u0445 \u044f\u0447\u0435\u0435\u043a \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0430, \u0442\u043e \u043f\u0440\u0438 \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u043d\u0438\u0438 \u043e\u043d\u0438 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u044c\u0441\u044f \u0441 \u0442\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b, \u0432 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0431\u044b\u043b\u0438 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043a\u043d\u043e\u043f\u043a\u0438 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u044f\u0447\u0435\u0435\u043a \u0438\u043b\u0438 \u0438\u0445 \u043d\u043e\u043c\u0438\u043d\u0430\u043b \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0441\u044f, \u0442\u043e \u0445\u043e\u0434 \u043d\u0435 \u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f. \u0414\u043b\u044f \u043f\u043e\u0431\u0435\u0434\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0432 \u043e\u0434\u043d\u043e\u0439 \u044f\u0447\u0435\u0439\u043a\u0435 \u0447\u0438\u0441\u043b\u043e 2048(\u043c\u043e\u0436\u043d\u043e \u0438 \u0431\u043e\u043b\u044c\u0448\u0435). \u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c, \u0435\u0441\u043b\u0438 \u043f\u043e\u0441\u043b\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0433\u043e \u0445\u043e\u0434\u0430 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435.",mobileRules:"\u041f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0445\u043e\u0434\u0430 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u044f\u0447\u0435\u0439\u043a\u0430 \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0430 \xab2\xbb (\u0441 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c\u044e 85%) \u0438\u043b\u0438 \xab4\xbb (\u0441 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c\u044e 15%). \u0421\u0432\u0430\u0439\u043f\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0438\u043d\u0443\u0442\u044c \u0432\u0441\u0435 \u044f\u0447\u0435\u0439\u043a\u0438 \u0438\u0433\u0440\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0432 \u043e\u0434\u043d\u0443 \u0438\u0437 4 \u0441\u0442\u043e\u0440\u043e\u043d. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438 \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u043d\u0438\u0438 \u0434\u0432\u0435 \u044f\u0447\u0435\u0439\u043a\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0430 \xab\u043d\u0430\u043b\u0435\u0442\u0430\u044e\u0442\xbb \u043e\u0434\u043d\u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u0443\u044e, \u0442\u043e \u043e\u043d\u0438 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0432 \u043e\u0434\u043d\u0443, \u043d\u043e\u043c\u0438\u043d\u0430\u043b \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0440\u0430\u0432\u0435\u043d \u0441\u0443\u043c\u043c\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u044f\u0447\u0435\u0435\u043a. \u0415\u0441\u043b\u0438 \u0432 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u0447\u043a\u0435 \u0438\u043b\u0438 \u0432 \u043e\u0434\u043d\u043e\u043c \u0441\u0442\u043e\u043b\u0431\u0446\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0431\u043e\u043b\u0435\u0435 \u0434\u0432\u0443\u0445 \u044f\u0447\u0435\u0435\u043a \u043e\u0434\u043d\u043e\u0433\u043e \u043d\u043e\u043c\u0438\u043d\u0430\u043b\u0430, \u0442\u043e \u043f\u0440\u0438 \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u043d\u0438\u0438 \u043e\u043d\u0438 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u044c\u0441\u044f \u0441 \u0442\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b, \u0432 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0431\u044b\u043b\u0438 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438 \u0441\u0432\u0430\u0439\u043f\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u044f\u0447\u0435\u0435\u043a \u0438\u043b\u0438 \u0438\u0445 \u043d\u043e\u043c\u0438\u043d\u0430\u043b \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0441\u044f, \u0442\u043e \u0445\u043e\u0434 \u043d\u0435 \u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f. \u0414\u043b\u044f \u043f\u043e\u0431\u0435\u0434\u044b \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0432 \u043e\u0434\u043d\u043e\u0439 \u044f\u0447\u0435\u0439\u043a\u0435 \u0447\u0438\u0441\u043b\u043e 2048(\u043c\u043e\u0436\u043d\u043e \u0438 \u0431\u043e\u043b\u044c\u0448\u0435). \u0418\u0433\u0440\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c, \u0435\u0441\u043b\u0438 \u043f\u043e\u0441\u043b\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0433\u043e \u0445\u043e\u0434\u0430 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435.",gameOver:"\u0418\u0433\u0440\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430, \u0441\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435.",prestart:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043b\u044e\u0431\u0443\u044e \u043a\u043b\u0430\u0432\u0438\u0448\u0443 (\u043d\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0435) \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c.",prestartMobile:"\u0422\u0430\u043f\u043d\u0438\u0442\u0435 \u043f\u043e \u0438\u0433\u0440\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u043b\u044e \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c",win:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e \u0441 \u043f\u043e\u0431\u0435\u0434\u043e\u0439!",thanxNo:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u043d\u0430\u0438\u0433\u0440\u0430\u043b\u0441\u044f",continue:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0438\u0433\u0440\u0443",restart:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437",loose:"\u0421\u043e\u0436\u0430\u043b\u0435\u044e, \u043d\u043e \u0432\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438.",score:"\u0421\u0447\u0435\u0442: ",background:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u043d:"}};function l(e,t,n,o,r){t[0]=e[0].number,t[1]=e[4].number,t[2]=e[8].number,t[3]=e[12].number,n[0]=e[1].number,n[1]=e[5].number,n[2]=e[9].number,n[3]=e[13].number,o[0]=e[2].number,o[1]=e[6].number,o[2]=e[10].number,o[3]=e[14].number,r[0]=e[3].number,r[1]=e[7].number,r[2]=e[11].number,r[3]=e[15].number}function b(e,t,n,o,r){t[0]=e[0].number,t[1]=e[1].number,t[2]=e[2].number,t[3]=e[3].number,n[0]=e[4].number,n[1]=e[5].number,n[2]=e[6].number,n[3]=e[7].number,o[0]=e[8].number,o[1]=e[9].number,o[2]=e[10].number,o[3]=e[11].number,r[0]=e[12].number,r[1]=e[13].number,r[2]=e[14].number,r[3]=e[15].number}function m(e,t,n,o,r){e[0].number=t[0],e[4].number=t[1],e[8].number=t[2],e[12].number=t[3],e[1].number=n[0],e[5].number=n[1],e[9].number=n[2],e[13].number=n[3],e[2].number=o[0],e[6].number=o[1],e[10].number=o[2],e[14].number=o[3],e[3].number=r[0],e[7].number=r[1],e[11].number=r[2],e[15].number=r[3]}function p(e,t,n,o,r){e[0].number=t[0],e[1].number=t[1],e[2].number=t[2],e[3].number=t[3],e[4].number=n[0],e[5].number=n[1],e[6].number=n[2],e[7].number=n[3],e[8].number=o[0],e[9].number=o[1],e[10].number=o[2],e[11].number=o[3],e[12].number=r[0],e[13].number=r[1],e[14].number=r[2],e[15].number=r[3]}function d(e){return e.slice().map((function(e){return e.number})).join()}var f=[{number:"",area:"top1",back:"white",size:"4.5vw",color:"black"},{number:"",area:"top2",back:"white",size:"4.5vw",color:"black"},{number:"",area:"top3",back:"white",size:"4.5vw",color:"black"},{number:"",area:"top4",back:"white",size:"4.5vw",color:"black"},{number:"",area:"second1",back:"white",size:"4.5vw",color:"black"},{number:"",area:"second2",back:"white",size:"4.5vw",color:"black"},{number:"",area:"second3",back:"white",size:"4.5vw",color:"black"},{number:"",area:"second4",back:"white",size:"4.5vw",color:"black"},{number:"",area:"third1",back:"white",size:"4.5vw",color:"black"},{number:"",area:"third2",back:"white",size:"4.5vw",color:"black"},{number:"",area:"third3",back:"white",size:"4.5vw",color:"black"},{number:"",area:"third4",back:"white",size:"4.5vw",color:"black"},{number:"",area:"bottom1",back:"white",size:"4.5vw",color:"black"},{number:"",area:"bottom2",back:"white",size:"4.5vw",color:"black"},{number:"",area:"bottom3",back:"white",size:"4.5vw",color:"black"},{number:"",area:"bottom4",back:"white",size:"4.5vw",color:"black"}],h=2048,v=n.p+"static/media/UK.24a08dc3.png",w=n.p+"static/media/RU.9a6254bc.png",j=(n(13),n(14),n(15),n(16),n(17),n(0));var g=function(e){var t=r.a.useContext(u);function n(){"ru"===e.lang?e.setLang("en"):e.setLang("ru")}return Object(j.jsxs)("header",{className:"Header",children:["ru"===e.lang?Object(j.jsx)("button",{className:"Header__button",type:"button",onClick:n,children:Object(j.jsx)("img",{className:"Header__button-image",src:v,alt:"\u0444\u043b\u0430\u0433 \u0421\u041a"})}):Object(j.jsx)("button",{className:"Header__button",type:"button",onClick:n,children:Object(j.jsx)("img",{className:"Header__button-image",src:w,alt:"\u0444\u043b\u0430\u0433 \u0420\u0424"})}),e.gameStarted?Object(j.jsxs)("h3",{className:"Header__score",children:[t.score,e.score]}):"",Object(j.jsx)("button",{className:"Header__button Header__button_rules",onClick:e.toggleRules,children:t.rulesTitle})]})},y=n(6);n(19);var k=function(e){return Object(j.jsx)("div",{className:"Cell",style:{gridArea:e.cell.area,backgroundColor:e.cell.back,fontSize:e.cell.size,color:e.cell.color},children:e.cell.number})};n(20);var _=function(e){var t,n=r.a.useState(16),o=Object(i.a)(n,2),a=o[0],c=o[1],u=r.a.useState({}),s=Object(i.a)(u,2),f=s[0],v=s[1],w=r.a.useState({}),g=Object(i.a)(w,2),_=g[0],O=g[1],x=r.a.useState(!1),E=Object(i.a)(x,2),S=E[0],P=E[1],N=e.numbers,L=function t(){e.setEndGame(!1),e.setGameStarted(!0),e.setScrollLocker(!0),C(),window.removeEventListener("keydown",t),window.removeEventListener("touchstart",t)};function T(e){var t,n=[];e.forEach((function(e,t){""===e.number&&(1,n.push(t))}));var o=Math.random(),r=Math.ceil(n.length*o),a=n[r-1];t=e.slice(0);var c=Math.random()>.85?4:2;return t[a].number=c,t}function C(){var n=T(N);t=n,e.setNumbers(t)}r.a.useEffect((function(){return e.isMobile?(window.addEventListener("touchstart",L),function(){window.removeEventListener("touchstart",L)}):(window.addEventListener("keydown",L),function(){window.removeEventListener("keydown",L)})}),[]);var M,G,z=[],A=[],F=[],I=[];function D(t,n){if(t===n){if(M=t+n,!isNaN(M)){var o=e.score+M;e.setScore(o)}return M}}function H(){var e=function(e){return e.map((function(e){return e.number})).filter((function(e){return"number"===typeof e}))}(N);if(Math.max.apply(Math,Object(y.a)(e))>16)return c(Math.max.apply(Math,Object(y.a)(e)))}function B(e){var t=e.filter((function(e){return e}));return t.length>1&&(M=void 0,D(t[0],t[1]),M&&(t[0]=M,t[1]="")),t.length>2&&(M=void 0,D(t[1],t[2]),M&&(t[1]=M,t[2]="")),4===t.length&&(M=void 0,D(t[2],t[3]),M&&(t[2]=M,t[3]="")),0===(G=t.filter((function(e){return e}))).length&&(G=["","","",""]),1===G.length&&(G.push(""),G.push(""),G.push("")),2===G.length&&(G.push(""),G.push("")),3===G.length&&G.push(""),G}function R(e){return B(e.reverse()).reverse()}function q(){var t=d(N);l(N,z,A,F,I),B(z),z=G,B(A),A=G,B(F),F=G,B(I),m(N,z,A,F,I=G);var n=N.slice().map((function(e){return e.number}));t!==n.join()?C():0===n.filter((function(e){return""===e})).length&&(e.setPopupOpened(!0),e.setPopupType("loose"));H()}function U(){var t=d(N);b(N,z,A,F,I),B(z),z=G,B(A),A=G,B(F),F=G,B(I),p(N,z,A,F,I=G);var n=N.slice().map((function(e){return e.number}));t!==n.join()?C():0===n.filter((function(e){return""===e})).length&&(e.setPopupOpened(!0),e.setPopupType("loose"));H()}function Y(){var t=d(N);l(N,z,A,F,I),R(z),z=G,R(A),A=G,R(F),F=G,R(I),m(N,z,A,F,I=G);var n=N.slice().map((function(e){return e.number}));t!==n.join()?C():0===n.filter((function(e){return""===e})).length&&(e.setPopupOpened(!0),e.setPopupType("loose"));H()}function J(){var t=d(N);b(N,z,A,F,I),R(z),z=G,R(A),A=G,R(F),F=G,R(I),p(N,z,A,F,I=G);var n=N.slice().map((function(e){return e.number}));t!==n.join()?C():0===n.filter((function(e){return""===e})).length&&(e.setPopupOpened(!0),e.setPopupType("loose"));H()}N.forEach((function(e){e.number<65?e.back="rgb(".concat(255-4*e.number,", 255, 255)"):e.number>65&&e.number<1024?e.back="rgb(0, ".concat(255-e.number/4,", 255)"):e.number>1023?e.back="rgb(0, 0, ".concat(255-e.number/64,")"):e.back="white",e.number>9999?e.size="3vw":e.number>999?e.size="3.5vw":e.size="4.5vw",e.number>2e3?e.color="white":e.color="black"}));var W=[];function X(e){e.preventDefault(),0===W.length&&W.push(e.key)}function K(t){"ArrowUp"===W[0]?(t.preventDefault(),q(),W.pop()):"ArrowDown"===W[0]?(t.preventDefault(),Y(),W.pop()):"ArrowLeft"===W[0]?(t.preventDefault(),U(),W.pop()):"ArrowRight"===W[0]?(t.preventDefault(),J(),W.pop()):"Tab"===W[0]?(t.preventDefault(),function(){var t=N.map((function(e){return e.number=1024,e}));e.setNumbers(t)}(),W.pop()):"Backspace"===W[0]?(t.preventDefault(),function(){var t=N.map((function(e,t){return e.number=t+1,e}));e.setNumbers(t)}(),W.pop()):W.pop()}function V(t){e.scrollLocker&&(P(!0),v({x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}),O({x:f.x,y:f.y}))}function Q(e){S&&e.preventDefault(),O({x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY})}function Z(){!function(){var e={x:f.x-_.x,y:f.y-_.y};Math.abs(e.x)>Math.abs(e.y)?Math.abs(e.x)>20&&(e.x>0?U():J()):Math.abs(e.y)>20&&(e.y>0?q():Y())}(),v({}),O({}),P(!1)}return r.a.useEffect((function(){if(e.gameStarted)return window.addEventListener("keydown",X),function(){window.removeEventListener("keydown",X)}})),r.a.useEffect((function(){if(e.gameStarted)return window.addEventListener("keyup",K),function(){window.removeEventListener("keyup",K)}})),r.a.useEffect((function(){if(e.gameStarted&&e.isMobile)return window.addEventListener("touchstart",V),window.addEventListener("touchmove",Q,{passive:!1}),window.addEventListener("touchend",Z),window.addEventListener("touchcancel",Z),function(){window.removeEventListener("touchstart",V),window.removeEventListener("touchmove",Q),window.removeEventListener("touchend",Z),window.removeEventListener("touchcancel",Z)}})),r.a.useEffect((function(){a===h&&(document.querySelector(".GamePopup_opened")||(e.setPopupOpened(!0),e.setPopupType("win"),c(2049)))}),[a,e]),a<2049?Object(j.jsx)("div",{className:"GameField",style:{backgroundColor:"rgb(".concat(127+a/16,", ").concat(127+a/16,", ").concat(128-a/16,")")},children:N.map((function(e,t){return Object(j.jsx)(k,{cell:e},t)}))}):Object(j.jsx)("div",{className:"GameField",style:{backgroundColor:"rgb(".concat(255-a/64,", 255, 0)")},children:N.map((function(e,t){return Object(j.jsx)(k,{cell:e},t)}))})};n(21);var O=function(e){var t=r.a.useState(f),n=Object(i.a)(t,2),o=n[0],a=n[1],c=r.a.useState(!1),s=Object(i.a)(c,2),l=s[0],b=s[1],m=r.a.useContext(u);return r.a.useEffect((function(){var t=document.querySelector(".App__restart-button");if(t){var n=function(){var e=m.restart.split("").map((function(e,t){return" "===e?'<p class="App__restart-button_symbol" style="animation: none">&nbsp</p>':'<p class="App__restart-button_symbol" style="animation-delay: '.concat(t/2,'s">').concat(e,"</p>")}));t.innerHTML=e.join("")},o=function(){t.innerHTML=m.restart};return n(),t.addEventListener("mouseover",o),t.addEventListener("mouseout",n),t.addEventListener("onclick",e.restarter),function(){t.removeEventListener("mouseover",o),t.removeEventListener("onclick",e.restarter)}}})),Object(j.jsx)("section",{className:"Main",children:Object(j.jsx)(_,{numbers:o,setNumbers:a,isMobile:e.isMobile,scrollLocker:l,setScrollLocker:b,gameStarted:e.gameStarted,setGameStarted:e.setGameStarted,endGame:e.endGame,setEndGame:e.setEndGame,score:e.score,setScore:e.setScore,setPopupOpened:e.setPopupOpened,setPopupType:e.setPopupType})})};n(22),n(23),n(24);var x=function(){var e=r.a.useState("#000000"),t=Object(i.a)(e,2),n=t[0],o=t[1],a=r.a.useContext(u);return r.a.useEffect((function(){document.querySelector("html").style="--bg-color: ".concat(n)}),[n]),Object(j.jsxs)("footer",{className:"Footer",children:[Object(j.jsxs)("p",{className:"Footer__text",children:[a.background," "]}),Object(j.jsx)("input",{type:"color",className:"Footer__input",defaultValue:n,onInput:function(e){o(e.target.value)}})]})};n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38);var E=function(e){var t,n,o,a=r.a.useContext(u);return"win"===e.popupType?(t=a.win,n=a.continue,o="greenyellow"):(t=a.loose,o="orangered"),Object(j.jsx)("section",{className:"Popup ".concat(e.isOpen&&"Popup_opened"),id:e.popupType,children:Object(j.jsxs)("div",{className:"Popup__container",name:e.popupType,children:[Object(j.jsx)("h1",{className:"Popup__text",children:t}),Object(j.jsxs)("figure",{className:"Popup__smile",children:[Object(j.jsx)("div",{className:"Popup__smile-bigcircle",style:{borderColor:o}}),Object(j.jsx)("div",{className:"Popup__smile-smallcircle Popup__smile-smallcircle_left",style:{borderColor:o,backgroundColor:o}}),Object(j.jsx)("div",{className:"Popup__smile-smallcircle Popup__smile-smallcircle_right",style:{borderColor:o,backgroundColor:o}}),Object(j.jsx)("div",{style:{borderTopColor:o},className:"Popup__smile-mimic ".concat("win"===e.popupType&&"Popup__smile-mimic_type_win"," ").concat("loose"===e.popupType&&"Popup__smile-mimic_type_loose"," ")})]}),Object(j.jsxs)("div",{className:"Popup__buttons",children:[Object(j.jsx)("button",{className:"Popup__button",type:"button",onClick:function(){e.onClose(),"loose"===e.popupType?(e.setEndGame(!0),e.setGameStarted(!0)):e.restarter()},children:"loose"===e.popupType?a.thanxNo:a.restart}),"win"===e.popupType?Object(j.jsx)("button",{type:"button",className:"Popup__button",onClick:e.onClose,children:n}):Object(j.jsx)("button",{className:"Popup__button",type:"button",onClick:function(){e.onClose(),e.restarter()},children:a.restart})]})]})})};n(39),n(40),n(41),n(42),n(43),n(44),n(45),n(46),n(47);var S=function(){var e=r.a.useState("ru"),t=Object(i.a)(e,2),n=t[0],o=t[1],a=r.a.useState(!1),c=Object(i.a)(a,2),l=c[0],b=c[1],m=r.a.useState(!1),p=Object(i.a)(m,2),d=p[0],h=p[1],v=r.a.useState(0),w=Object(i.a)(v,2),y=w[0],k=w[1],_=r.a.useState(!1),S=Object(i.a)(_,2),P=S[0],N=S[1],L=r.a.useState(!1),T=Object(i.a)(L,2),C=T[0],M=T[1],G=r.a.useState(""),z=Object(i.a)(G,2),A=z[0],F=z[1],I=/Mobile|webOS|BlackBerry|IEMobile|MeeGo|mini|Fennec|Windows Phone|Android|iP(ad|od|hone)/i.test(navigator.userAgent),D=r.a.useRef(I);function H(){document.querySelector(".GameField").setAttribute("style","background-color: rgb(128, 128, 127)"),N(!0),function(e){for(var t=Math.random(),n=Math.floor(16*t),o=0;o<e.length;o++)e[o].number="",e[o].back="white",e[o].size="4.5vw",e[o].color="black";e[n].number=2}(f),h(!0),k(0)}function B(){b(!l)}function R(){M(!1),F("")}function q(e){"Escape"===e.key&&R()}function U(e){e.target.classList.contains("Popup_opened")&&R()}return r.a.useEffect((function(){setInterval((function(){var e=/Mobile|webOS|BlackBerry|IEMobile|MeeGo|mini|Fennec|Windows Phone|Android|iP(ad|od|hone)/i.test(navigator.userAgent);D.current=e}),15e3)})),r.a.useEffect((function(){window.addEventListener("keydown",q),window.addEventListener("click",U)})),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(u.Provider,{value:s[n],children:[Object(j.jsx)(g,{toggleRules:B,endGame:P,restarter:H,gameStarted:d,score:y,setLang:o,lang:n}),Object(j.jsxs)("div",{className:"App__text-container ".concat(l&&"App__text-container_opened"),children:[Object(j.jsx)("p",{className:"App__rules-text ".concat(d&&"App__rules-text_gameStarted"),children:D.current?s[n].mobileRules:s[n].rules}),P?d?"":Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"App__rules-span",children:s[n].gameOver}),Object(j.jsx)("button",{className:"App__restart-button",type:"button",onClick:function(){B(),H()},children:s[n].restart})]}):d?"":Object(j.jsx)("span",{className:"App__rules-span",children:D.current?s[n].prestartMobile:s[n].prestart})]}),Object(j.jsx)(O,{gameStarted:d,restarter:H,endGame:P,setEndGame:N,score:y,setScore:k,setGameStarted:h,isMobile:D.current,lang:n,setPopupOpened:M,setPopupType:F}),Object(j.jsx)(x,{}),Object(j.jsx)(E,{isOpen:C,onClose:R,popupType:A,setGameStarted:h,setEndGame:N,restarter:H})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),o(e),r(e),a(e),c(e)}))};c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root")),P()}],[[48,1,2]]]);
//# sourceMappingURL=main.2b1c01ec.chunk.js.map